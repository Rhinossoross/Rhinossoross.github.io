<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Wolf's page</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="stylesheet.css">
    </head>
    <body>
  
        <div class= "MainBlock">
        </div>
        <div class="content" >
            <h1 id="decoderText" class="crtText" style= "animation-duration: 6s;"> Wolf's Work </h1>
            <h2 id="TypeWriterText" class="crtText" style= "animation-duration: 5s;">
            This is my projects page, it has links to all my favorite projects, both academic, and hobby.
            <br><br> 
            Contact me:
            <br><br> 
            <strong> dan.menadue@bristol.ac.uk </strong>
            <br><br> 
            Or follow me on instagram:
            <br><br> 
            @vvolf_me
            <br><br> 
            <br><br> 
            Click below to continue...<br>
            enjoy :>
           
            
        </div>
        <div id="coverall"></div> 
        <table>
            <tr><td></td><td></td><td></td></tr>
            <tr>
                 <td colspan = 3>
                    <div id="Qotd"></div>
                </td>
            </tr>
            
        </table>
        



    <script>
        /* notes 
        make page content tileable using js 
        */
       //
       const BaseUrl ="/" //"https://raw.githubusercontent.com/Rhinossoross/Rhinossoross.github.io/main/";

        //inforce top of page at page load
        history.scrollRestoration = "manual";
        window.scrollTo(0, 0);
        // quick clear for coverall
        const coverall = document.getElementById("coverall")
        coverall.addEventListener("click",()=>{coverall.style.animationPlayState = "running";})
        


        //table filler:
        /*  table format
        <tr>
                <td colspan = 3>
                    <h1 style= "animation-duration: 9s;">Mask Maker</h1>
                </td>
            </tr>
            <tr>
                <td colspan = 2>
                    <div>
                        <iframe src = 'cubefall\index.html' title=" CubeFall" style = "left: 0%;"></iframe>
                        <div> click to visit</div>
                    </div>
                </td>
                <td>
                    i have been making masks for a while lul
                </td>
            </tr>
        */

        projectsList = fetch(BaseUrl + "projectsList.txt")
            .then(response => response.text())
            .then(data => {
                let i=1;
                data.split('\n').forEach(project => {
                    const [title, description,iframeSrc] = project.split('|');
                    i++;
                    const table = document.querySelector('table');

                    // Create title row
                    const titleRow = document.createElement('tr');
                    const titleCell = document.createElement('td');
                    titleCell.colSpan = 3;
                    const titleHeader = document.createElement('h1');
                    titleHeader.className = 'crtText';
                    titleHeader.style.animationDuration = '9s';
                    titleHeader.textContent = title;
                    titleCell.appendChild(titleHeader);
                    titleRow.appendChild(titleCell);
                    table.appendChild(titleRow);

                    // Create content row
                    const contentRow = document.createElement('tr');
                    if (i%2 == 0){
                        const descriptionCell = document.createElement('td'); //if even do this first
                        descriptionCell.textContent = description;
                        contentRow.appendChild(descriptionCell);
                    }
                        const iframeCell = document.createElement('td');    // if odd do this first
                        iframeCell.colSpan = 2;
                        const iframe = document.createElement('iframe');
                        iframe.src = "/projects/"+title+"/index.html";
                        iframe.title = title;
                        iframeCell.appendChild(iframe);
                        const visitDiv = document.createElement('div');
                        visitDiv.className = 'iframeClick';
                        visitDiv.textContent = ' click to visit';
                        visitDiv.addEventListener("click",()=> {
                            coverall.style.animationLoop;
                            window.location.href = "/projects/"+title+"/index.html";
                        });
                        iframeCell.appendChild(visitDiv);
                        contentRow.appendChild(iframeCell);
                    if (i%2 != 0){
                        const descriptionCell = document.createElement('td');
                        descriptionCell.textContent = description;
                        contentRow.appendChild(descriptionCell);
                    }
                    table.appendChild(contentRow);
                });
            })
            .catch(error => {
                console.error("Error fetching projects list:", error);
            });









        // create text stylisms
        const qotd = document.getElementById("Qotd");

        (async function(){
        const response = await fetch(BaseUrl+'Qotd.txt')
        const docData = await response.text();
        QotdList = docData.split('\n');
        initialiseQotd(QotdList);
        })();
        var QotdText =[];
        function initialiseQotd(data) {
            let spacer ="‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ";
            while (data.length>1){
                i = Math.floor(Math.random() * data.length)
                QotdText.push(spacer.concat(data[i]));
                data.splice(i,1)
            }
        
            Qotd.innerText = QotdText;
            //Qotd animation let previousTimeStamp = 1000;
            window.setInterval(()=>{
                Qotd.innerText = Qotd.innerText.substring(1);
            },130)
        }


  



        //page header animated  texts
        const alphabet = "abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWKYZ1234567890!£$%^&()[]#~;:'@,./<>?";
        const decoderText = document.getElementById("decoderText");
        const hiddenText = decoderText.innerText;
        const TypeWriterText = document.getElementById("TypeWriterText");
        const TypeWriterHiddenText= TypeWriterText.innerText;
        let previousTimeStamp = 1000;
        let decoderElapsedSeconds =0;
        let SecpmdsPerChar =0.2;
        decoderText.addEventListener("click",()=> {decoderElapsedSeconds=0;})
        //animation mainloop
        const animationLoop = (currentTimestamp) => {
            let seccondssincelastframe = (currentTimestamp - previousTimeStamp) /1000;
            previousTimeStamp = currentTimestamp;
            decoderElapsedSeconds += seccondssincelastframe;

            const charactersToReveal = decoderElapsedSeconds/SecpmdsPerChar
            let animatedText="";
            for (let i = 0; i < hiddenText.length; i++) {
                let char = "";
                if (i<charactersToReveal) {
                    char = hiddenText[i]
                    
                }else{
                    char = alphabet[Math.floor(Math.random()*alphabet.length)]
                }
                animatedText +=char;
            }
            decoderText.innerText = animatedText;
            window.requestAnimationFrame(animationLoop);
        }
        //start the animation
        window.requestAnimationFrame(animationLoop);

        let typewriterPreviousTimeStamp = 1000;
        let typewriterElapsedSeconds =0;
        let typewriterSecpmdsPerChar =0.06;
        decoderText.addEventListener("click",()=> { typewriterElapsedSeconds=0;})
        //animation mainloop
        const typewriteranimationLoop = (currentTimestamp) => {
            let seccondssincelastframe = (currentTimestamp -  typewriterPreviousTimeStamp) /1000;
            typewriterPreviousTimeStamp = currentTimestamp;
            typewriterElapsedSeconds += seccondssincelastframe;
            const charactersToReveal =  typewriterElapsedSeconds/ typewriterSecpmdsPerChar
            let animatedText="";
            for (let i = 0; i < TypeWriterHiddenText.length; i++) {
                let char = "";
                if (i<charactersToReveal) {
                    char = TypeWriterHiddenText[i]
                    if (char == ","||char == ":"){
                        typewriterPreviousTimeStamp+=12
                    }else{typewriterPreviousTimeStamp = currentTimestamp}

                }else{
                    char = ""
                }
                animatedText +=char;
            }
            TypeWriterText.innerText = animatedText;
            window.requestAnimationFrame(typewriteranimationLoop);
        }
        //start the animation
        window.requestAnimationFrame(typewriteranimationLoop);
    </script>
    </body>

</html>
